(beginning)
@KBD
D=M
@beginning
D;JLE
@counter
M=0
@SCREEN
D=A
@screenpos
M=D
(fillloop)
@0
D=!A
@screenpos
A=M
M=D
@8192
D=A
@screenpos
M=M+1
@counter
M=M+1
D=D-M
@stopdraw
D;JLE
@KBD
D=M
@fillloop
D;JGT
(clearloop)
@SCREEN
D=A
@counter
D=D+M
A=D
M=0
@counter
M=M-1
D=M
@clearloop
D;JGE
@beginning
0;JMP
(stopdraw)
@KBD
D=M
@stopdraw
D;JGT
@clearloop
0;JMP